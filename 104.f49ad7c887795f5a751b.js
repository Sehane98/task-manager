"use strict";(self.webpackChunktask_manager=self.webpackChunktask_manager||[]).push([[104],{2104:(ve,A,s)=>{s.r(A),s.d(A,{AuthModule:()=>fe});var f=s(8583),b=s(4655),c=s(3679),g=(()=>{return(n=g||(g={})).ROLE_ADMIN="ROLE_ADMIN",n.ROLE_USER="ROLE_USER",g;var n})(),_=s(5062),e=s(7716),x=s(5674),Z=s(5798),v=s(345);let R=(()=>{class n{constructor(t,i,o){this.router=t,this.snackBarService=i,this.authService=o,this.Delay=1e3}routeWithDelay(t,i,o,r){i&&this.snackBarService.success(i),setTimeout(()=>this.router.navigate(t,{relativeTo:o}),r||this.delay)}get delay(){return this.Delay}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(b.F0),e.LFG(v.c),e.LFG(x.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var k=s(8295),C=s(9983),T=s(6627),l=s(2458),m=s(9490),q=s(6237),y=s(9238),I=s(8345);const G=["input"],N=function(n){return{enterDuration:n}},Y=["*"],V=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let O=0;const z={provide:c.JU,useExisting:(0,e.Gpc)(()=>L),multi:!0};class S{constructor(a,t){this.source=a,this.value=t}}const w=new e.OlP("MatRadioGroup");let U=(()=>{class n{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+O++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,m.Ig)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=(0,m.Ig)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new S(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),n})(),L=(()=>{class n extends U{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,D,5),2&t){let r;e.iGM(r=e.CRH())&&(i._radios=r)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([z,{provide:w,useExisting:n}]),e.qOj]}),n})();class Q{constructor(a){this._elementRef=a}}const j=(0,l.Kr)((0,l.sb)(Q));let H=(()=>{class n extends j{constructor(t,i,o,r,d,h,u,p){super(i),this._changeDetector=o,this._focusMonitor=r,this._radioDispatcher=d,this._providerOverride=u,this._uniqueId="mat-radio-"+ ++O,this.id=this._uniqueId,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===h,p&&(this.tabIndex=(0,m.su)(p,0)),this._removeUniqueSelectionListener=d.listen((_e,xe)=>{_e!==this.id&&xe===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const i=(0,m.Ig)(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled((0,m.Ig)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=(0,m.Ig)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new S(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.tE),e.Y36(I.A8),e.Y36(String),e.Y36(void 0),e.Y36(String))},n.\u0275dir=e.lG2({type:n,viewQuery:function(t,i){if(1&t&&e.Gf(G,5),2&t){let o;e.iGM(o=e.CRH())&&(i._inputElement=o.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[e.qOj]}),n})(),D=(()=>{class n extends H{constructor(t,i,o,r,d,h,u,p){super(t,i,o,r,d,h,u,p)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.tE),e.Y36(I.A8),e.Y36(q.Qb,8),e.Y36(V,8),e.$8M("tabindex"))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,i){1&t&&e.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(e.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:Y,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1),e.TgZ(2,"span",2),e._UZ(3,"span",3),e._UZ(4,"span",4),e.TgZ(5,"input",5,6),e.NdJ("change",function(r){return i._onInputInteraction(r)})("click",function(r){return i._onInputClick(r)}),e.qZA(),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA(),e.qZA(),e.TgZ(9,"span",9),e.TgZ(10,"span",10),e._uU(11,"\xa0"),e.qZA(),e.Hsn(12),e.qZA(),e.qZA()),2&t){const o=e.MAs(1);e.uIk("for",i.inputId),e.xp6(5),e.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex)("required",i.required),e.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,N,i._noopAnimations?0:150)),e.xp6(2),e.ekj("mat-radio-label-before","before"==i.labelPosition)}},directives:[l.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.si,l.BQ],l.BQ]}),n})();var M=s(1095);function $(n,a){1&n&&(e.TgZ(0,"mat-form-field",8),e.TgZ(1,"mat-label"),e._uU(2,"Username"),e.qZA(),e._UZ(3,"input",25),e.TgZ(4,"mat-icon",10),e._uU(5,"person"),e.qZA(),e.qZA())}function K(n,a){1&n&&(e.TgZ(0,"mat-form-field",8),e.TgZ(1,"mat-label"),e._uU(2,"Email"),e.qZA(),e._UZ(3,"input",26),e.TgZ(4,"mat-icon",10),e._uU(5,"email"),e.qZA(),e.qZA())}function W(n,a){1&n&&e._UZ(0,"i",27)}function ee(n,a){1&n&&e._uU(0,"Sign in")}function ie(n,a){1&n&&e._UZ(0,"i",26)}function ne(n,a){1&n&&e._uU(0,"Sign up")}const oe=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:(()=>{class n{constructor(t,i,o,r,d){this.authService=t,this.coreService=i,this.snackBarService=o,this.formBuilder=r,this.uiService=d,this.loginLoading=!1}ngOnInit(){this.initLoginForm()}initLoginForm(){this.loginForm=this.formBuilder.group({username:[null,[c.kI.required]],email:[null],password:[null,[c.kI.required,c.kI.minLength(3)]],role:["ROLE_ADMIN",[c.kI.required]],rememberMe:[!1]})}changeRole(t){var i,o,r,d,h,u,p;(null===(i=this.loginForm.get("role"))||void 0===i?void 0:i.value)===g.ROLE_USER?(null===(o=this.loginForm.get("email"))||void 0===o||o.setValidators([c.kI.email,c.kI.required]),null===(r=this.loginForm.get("username"))||void 0===r||r.clearValidators()):(null===(d=this.loginForm.get("username"))||void 0===d||d.setValidators([c.kI.required]),null===(h=this.loginForm.get("email"))||void 0===h||h.clearValidators()),null===(u=this.loginForm.get("email"))||void 0===u||u.updateValueAndValidity(),null===(p=this.loginForm.get("username"))||void 0===p||p.updateValueAndValidity()}submit(){if(this.loginForm.invalid)return;const t=this.loginForm.value;let i="";this.loginForm.disable(),this.loginLoading=!0,"ROLE_USER"===t.role?(delete t.username,i=_.i.URL.login_customer):(delete t.email,i=_.i.URL.auth),this.loginForm.disable(),this.loginLoading=!0,this.authService.login(this.loginForm.value,i).subscribe(o=>{this.authService.setDeliveryAuthData(o.id_token),this.authService.setToken(o.id_token),this.authService.setCurrentUser(o),this.checkAuthoritiesAndRedirect()},o=>{this.snackBarService.error(o),this.loginForm.enable(),this.loginLoading=!1})}checkAuthoritiesAndRedirect(){let i="/";this.authService.getAuthorities().role===g.ROLE_USER&&(i+="task"),this.uiService.routeWithDelay([i],"Login")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.e),e.Y36(Z.p),e.Y36(v.c),e.Y36(c.qu),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:41,vars:6,consts:[[1,"animated","fadeIn","center"],[1,"row","login-container"],[1,"col-lg-7","position-relative","bg-white","p-0"],[1,"login-form","center"],[1,"card-body","p-0"],[3,"formGroup","ngSubmit"],[1,"login-text"],["class","w-100","appearance","outline",4,"ngIf"],["appearance","outline",1,"w-100"],["type","password","matInput","","autocomplete","password","placeholder","Password","formControlName","password"],["matSuffix",""],["formControlName","role","aria-label","Select your role",1,"radio_button",3,"change"],["value","ROLE_ADMIN",1,"mr-5"],["value","ROLE_USER"],[1,"row"],[1,"col-sm-12","submit"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],["class","fa fa-spinner fa-pulse fa-2x fa-fw",4,"ngIf","ngIfElse"],["btnText",""],[1,"d-lg-none","d-block","text-center","mt-3"],["routerLink","/auth/registration"],[1,"col-lg-5","logo-side"],[1,"text-center"],["mat-stroked-button","","color","primary","routerLink","/auth/registration"],["src","./assets/img/icons/login.png",1,""],["type","text","matInput","","autocomplete","username","placeholder","Username","formControlName","username"],["type","text","matInput","","autocomplete","email","placeholder","Email","formControlName","email"],[1,"fa","fa-spinner","fa-pulse","fa-2x","fa-fw"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(6,"h1",6),e._uU(7,"Sign in to Task manager"),e.qZA(),e.YNc(8,$,6,0,"mat-form-field",7),e.YNc(9,K,6,0,"mat-form-field",7),e.TgZ(10,"mat-form-field",8),e.TgZ(11,"mat-label"),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",9),e.TgZ(14,"mat-icon",10),e._uU(15,"lock"),e.qZA(),e.qZA(),e.TgZ(16,"mat-radio-group",11),e.NdJ("change",function(r){return i.changeRole(r)}),e.TgZ(17,"mat-radio-button",12),e._uU(18,"Administrator"),e.qZA(),e.TgZ(19,"mat-radio-button",13),e._uU(20,"User"),e.qZA(),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"div",15),e.TgZ(23,"button",16),e.YNc(24,W,1,0,"i",17),e.YNc(25,ee,1,0,"ng-template",null,18,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",19),e.TgZ(28,"span"),e._uU(29,"Don't you have an account? "),e.qZA(),e.TgZ(30,"b",20),e.TgZ(31,"u"),e._uU(32," Sign up"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",21),e.TgZ(34,"h1"),e._uU(35,"Din't Have an Account"),e.qZA(),e.TgZ(36,"p",22),e._uU(37,"Simply Create your account by clicking the Signup Button"),e.qZA(),e.TgZ(38,"button",23),e._uU(39,"Sign up"),e.qZA(),e._UZ(40,"img",24),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.MAs(26);let r,d;e.xp6(5),e.Q6J("formGroup",i.loginForm),e.xp6(3),e.Q6J("ngIf","ROLE_ADMIN"===(null==(r=i.loginForm.get("role"))?null:r.value)),e.xp6(1),e.Q6J("ngIf","ROLE_USER"===(null==(d=i.loginForm.get("role"))?null:d.value)),e.xp6(14),e.Q6J("disabled",i.loginForm.invalid||i.loginLoading),e.xp6(1),e.Q6J("ngIf",i.loginLoading)("ngIfElse",o)}},directives:[c._Y,c.JL,c.sg,f.O5,k.KE,k.hX,C.Nt,c.Fj,c.JJ,c.u,T.Hw,k.R9,L,D,M.lW,b.rH],styles:["*[_ngcontent-%COMP%]{color:#6a6a6a}.center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.login-container[_ngcontent-%COMP%]{min-width:540px;min-height:492px;box-shadow:-4px 0 10px #00000040}.login-form[_ngcontent-%COMP%]{width:363px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login-text[_ngcontent-%COMP%]{color:#6a6a6a;margin-bottom:46px}.radio_button[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-right:50px}.logo-side[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:end}.logo-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%}.logo-side[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{color:#fff;padding-right:1.5rem;padding-left:1.5rem;margin-top:2rem;margin-bottom:2rem}.submit[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:flex-end}.submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:95px;color:#fff}@media (min-width: 992px){.login-container[_ngcontent-%COMP%]{min-width:918px!important}}@media (max-width: 992px){.logo-side[_ngcontent-%COMP%]{display:none!important}.login-form[_ngcontent-%COMP%]{width:440px!important}}"]}),n})()},{path:"registration",component:(()=>{class n{constructor(t,i,o,r,d){this.authService=t,this.coreService=i,this.snackBarService=o,this.formBuilder=r,this.uiService=d,this.loginLoading=!1}ngOnInit(){this.initLoginForm()}initLoginForm(){this.loginForm=this.formBuilder.group({organizationName:[null,[c.kI.required]],phone:[null,[c.kI.required]],address:[null,[c.kI.required]],username:[null,[c.kI.required]],password:[null,[c.kI.required,c.kI.minLength(6)]],email:[null,[c.kI.required,c.kI.email]],role:["ROLE_ADMIN",[c.kI.required]]})}submit(){this.loginForm.invalid||(this.loginForm.disable(),this.loginLoading=!0,this.coreService.post(_.i.URL.registration,this.loginForm.value).subscribe(t=>{this.authService.setDeliveryAuthData(t.id_token),this.authService.setToken(t.id_token),this.authService.setCurrentUser(t),this.checkAuthoritiesAndRedirect()},t=>{this.snackBarService.error(t),this.loginForm.enable(),this.loginLoading=!1}))}checkAuthoritiesAndRedirect(){let i="/";this.authService.getAuthorities().role===g.ROLE_USER&&(i+="task"),this.uiService.routeWithDelay([i],"Successfully registered")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.e),e.Y36(Z.p),e.Y36(v.c),e.Y36(c.qu),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registration"]],decls:55,vars:4,consts:[[1,"animated","fadeIn","center"],[1,"row","login-container"],[1,"col-lg-5","logo-side"],[1,"text-center"],["mat-stroked-button","","color","primary","routerLink","/auth/login",1,"sign-in"],["src","./assets/img/icons/login.png",1,""],[1,"col-lg-7","position-relative","bg-white","p-0"],[1,"login-form","center"],[1,"card-body","p-0"],[3,"formGroup","ngSubmit"],[1,"login-text"],["appearance","outline",1,"w-100"],["type","text","matInput","","autocomplete","organizationName","placeholder","Organization name","formControlName","organizationName"],["type","text","matInput","","autocomplete","phone","placeholder","Phone number","formControlName","phone"],["type","text","matInput","","autocomplete","address","placeholder","Address","formControlName","address"],[1,"row"],[1,"col-6"],["type","text","matInput","","autocomplete","username","placeholder","Username","formControlName","username"],["type","password","matInput","","autocomplete","password","placeholder","Password","formControlName","password"],["type","email","matInput","","autocomplete","email","placeholder","Email","formControlName","email"],[1,"col-sm-12","submit"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],["class","fa fa-spinner fa-pulse fa-3x fa-fw",4,"ngIf","ngIfElse"],["btnText",""],[1,"d-lg-none","d-block","text-center","mt-3"],["routerLink","/auth/login"],[1,"fa","fa-spinner","fa-pulse","fa-3x","fa-fw"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1"),e._uU(4,"Do you have an account?"),e.qZA(),e.TgZ(5,"p",3),e._uU(6,"Login your account"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"Sign in"),e.qZA(),e._UZ(9,"img",5),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"form",9),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(14,"h1",10),e._uU(15,"Create your account"),e.qZA(),e.TgZ(16,"mat-form-field",11),e.TgZ(17,"mat-label"),e._uU(18,"Organization name"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"mat-form-field",11),e.TgZ(21,"mat-label"),e._uU(22,"Phone"),e.qZA(),e._UZ(23,"input",13),e.qZA(),e.TgZ(24,"mat-form-field",11),e.TgZ(25,"mat-label"),e._uU(26,"Address"),e.qZA(),e._UZ(27,"input",14),e.qZA(),e.TgZ(28,"div",15),e.TgZ(29,"div",16),e.TgZ(30,"mat-form-field",11),e.TgZ(31,"mat-label"),e._uU(32,"Username"),e.qZA(),e._UZ(33,"input",17),e.qZA(),e.qZA(),e.TgZ(34,"div",16),e.TgZ(35,"mat-form-field",11),e.TgZ(36,"mat-label"),e._uU(37,"Password"),e.qZA(),e._UZ(38,"input",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"mat-form-field",11),e.TgZ(40,"mat-label"),e._uU(41,"Email"),e.qZA(),e._UZ(42,"input",19),e.qZA(),e.TgZ(43,"div",15),e.TgZ(44,"div",20),e.TgZ(45,"button",21),e.YNc(46,ie,1,0,"i",22),e.YNc(47,ne,1,0,"ng-template",null,23,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",24),e.TgZ(50,"span"),e._uU(51,"Do you have an account? "),e.qZA(),e.TgZ(52,"b",25),e.TgZ(53,"u"),e._uU(54," Sign in"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.MAs(48);e.xp6(13),e.Q6J("formGroup",i.loginForm),e.xp6(32),e.Q6J("disabled",i.loginForm.invalid||i.loginLoading),e.xp6(1),e.Q6J("ngIf",i.loginLoading)("ngIfElse",o)}},directives:[M.lW,b.rH,c._Y,c.JL,c.sg,k.KE,k.hX,C.Nt,c.Fj,c.JJ,c.u,f.O5],styles:["*[_ngcontent-%COMP%]{color:#6a6a6a}.center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.login-container[_ngcontent-%COMP%]{min-width:552px;min-height:545px;box-shadow:-4px 0 10px #00000040}.login-form[_ngcontent-%COMP%]{width:363px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login-text[_ngcontent-%COMP%]{color:#6a6a6a}.radio_button[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-right:50px}.logo-side[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:end}.logo-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%}.logo-side[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{padding-right:1.5rem;padding-left:1.5rem;margin-top:1rem;margin-bottom:2rem}.submit[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.pl-0[_ngcontent-%COMP%]{padding-left:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}@media (min-width: 992px){.login-container[_ngcontent-%COMP%]{min-width:918px!important}}@media (max-width: 992px){.logo-side[_ngcontent-%COMP%]{display:none!important}.login-form[_ngcontent-%COMP%]{width:440px!important}}"]}),n})()}];let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[b.Bz.forChild(oe)],b.Bz]}),n})();var E=s(8553);let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.si,l.BQ,E.Q8,B],l.BQ,B]}),n})(),fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.ez,ae,c.UX,ke,X,C.c,T.Ps,M.ot]]}),n})()}}]);